#!/usr/bin/env bash

# Generates the saved election package fixtures in libs/fixtures
# By default it will reuse the translations and audio from previous runs if new strings
# are not detected to be translated. To force re-translation, set the environment variable
# FORCE_RETRANSLATE to true.
export NODE_ENV=development

# Check if FORCE_RETRANSLATE is set to true
if [ -z "$FORCE_RETRANSLATE" ]; then
  export FORCE_RETRANSLATE=0
else
  export FORCE_RETRANSLATE=1
fi

# TODO - Add generate-election-package triggers for each election fixture that should be generated in a multi language format
./bin/generate-election-package ../fixtures/data/electionPrimaryPrecinctSplits 1 $FORCE_RETRANSLATE

# TODO - Add generate-election-package triggers for each election fixture that should be generated in a single language format

echo
echo "Note: You need to run \`pnpm build:resources && pnpm build\` in libs/fixtures for the new fixtures to register"
