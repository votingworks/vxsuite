# THIS FILE IS GENERATED. DO NOT EDIT IT DIRECTLY.
# Run `pnpm -w generate-circleci-config` to regenerate it.

version: 2.1

setup: true

orbs:
  path-filtering: circleci/path-filtering@1

executors:
  nodejs:
    docker:
      - image: votingworks/cimg-debian12:4.2.0
        auth:
          username: $VX_DOCKER_USERNAME
          password: $VX_DOCKER_PASSWORD

  nodejs_postgres:
    docker:
      - image: votingworks/cimg-debian12:4.2.0
        auth:
          username: $VX_DOCKER_USERNAME
          password: $VX_DOCKER_PASSWORD
      - image: cimg/postgres:16.6
        environment:
          POSTGRES_USER: postgres
          POSTGRES_PASSWORD: postgres
          POSTGRES_DB: postgres

workflows:
  setup:
    jobs:
      - path-filtering/filter:
          name: check-updated-files  
          mapping: |
            apps/pollbook/backend/.* run-pollbook-backend-job true
          base-revision: main
          config-path: .circleci/continue_config.yml
